"use strict";var app=angular.module("app",[]);app.run(["$rootScope","Source",function(r,n){r.source="players.json",r.footballers=[],n.get(r.source).then(function(n){r.footballers=n.data},function(r){console.log(r.status+": "+r.data)})}]),app.controller("mainCtrl",["$scope",function(r){r.checkQuery=function(){var n=r.query.match(/"/g)?r.query.match(/"/g):[];r.error=n.length&&1&n.length?!0:!1}}]),app.filter("advancedSearch",function(){return function(r,n){function t(r){var n="";for(var t in r)n+=" "+r[t];return n}function e(r){var n=o(r);n&&(n.slice(1)&&0===n.indexOf("-")&&c.push(" "+n.slice(1)+" "),0!==n.indexOf("-")&&u.push(" "+n+" "),i=i.replace('"'+n+'"',"").trim(),e(i))}function o(r){var n=r.match(/\"(.*?)\"/);return n?n[1]:!1}var a=[],u=[],c=[],i=n?n.toLowerCase().trim():"";e(i);for(var f=i?i.split(" "):[],l=0;l<f.length;l++)0===f[l].indexOf("-")?f[l].slice(1)&&c.push(f[l].slice(1)):u.push(f[l]);return angular.forEach(r,function(r,n,e){var o=t(r).toLowerCase();for(l=0;l<c.length;l++)if(~o.indexOf(c[l]))return!1;for(var a=0,i=0;i<u.length;i++)~o.indexOf(u[i])&&a++;a===u.length&&this.push(r)},a),n?a:r}}),app.factory("Source",["$http",function(r){return{get:function(n){return r.get(n)}}}]);